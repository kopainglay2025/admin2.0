<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Dashboard</title>
<style>
/* Reset & basic */
body, html { margin:0; padding:0; font-family: Arial, sans-serif; background:#f5f5f5; }
a { text-decoration:none; color:inherit; }

/* Layout */
.wrapper { display:flex; min-height:100vh; }
.sidebar { width:220px; background:#263238; color:white; display:flex; flex-direction:column; }
.sidebar h2 { text-align:center; padding:20px 0; margin:0; border-bottom:1px solid #455a64; font-size:1.2em; }
.sidebar a { padding:15px 20px; display:block; color:white; border-bottom:1px solid #37474f; transition:0.3s; }
.sidebar a:hover { background:#455a64; }
.content { flex:1; padding:20px; overflow-y:auto; }

/* Chat container */
.chat-container { max-width:700px; margin:0 auto; display:flex; flex-direction:column; }
.chat-wrapper { display:flex; flex-direction:column; margin-bottom:10px; }
.chat-bubble { padding:10px 15px; border-radius:15px; max-width:70%; position:relative; transition:0.2s; }
.chat-bubble:hover { box-shadow:0 2px 10px rgba(0,0,0,0.15); transform:scale(1.02); }
.chat-user { background:#e0f7fa; align-self:flex-start; }
.chat-bot { background:#c8e6c9; align-self:flex-end; text-align:right; }
.chat-time { font-size:0.8em; color:#888; margin-top:3px; }

/* Responsive */
@media (max-width:768px){
  .wrapper { flex-direction:column; }
  .sidebar { width:100%; flex-direction:row; overflow-x:auto; }
  .sidebar a { flex:1; text-align:center; }
}
</style>
</head>
<body>

<div class="wrapper">
  <!-- Sidebar menu -->
  <div class="sidebar">
    <h2>Admin Menu</h2>
    <a href="/dashboard">Dashboard</a>
    <a href="/users">Users</a>
    <a href="/chat">Chat History</a>
    <a href="/settings">Settings</a>
    <a href="/logout">Logout</a>
  </div>

  <!-- Main content -->
  <div class="content">
    <h2 style="text-align:center;">Chat History</h2>
    <div class="chat-container">
      {% for chat in chats %}
        <div class="chat-wrapper" style="align-items: {% if chat.message_type=='command' %}flex-end{% else %}flex-start{% endif %};">
            <div class="chat-bubble {% if chat.message_type=='command' %}chat-bot{% else %}chat-user{% endif %}">
                <strong>{{ chat.user_name }}:</strong> {{ chat.message }}
                <div class="chat-time">{{ chat.timestamp }}</div>
            </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

</body>
</html>
